{% extends "basic.html" %}
{% load static %}
{% block title %}{{ post.title }}{% endblock title %}

{% block body %}
<main class="main">

  <!-- Page Title -->
  <div class="page-title dark-background" data-aos="fade"
       style="background-image: url({% static 'assets/img/write.jpg' %});">
    <div class="container position-relative">
      <h1>{{ post.title }}</h1>
      <nav class="breadcrumbs">
        <ol>
          <li><a href="{% url 'home' %}">Home</a></li>
          <li><a href="{% url 'blog_list' %}">Blog</a></li>
          <li class="active">{{ post.title }}</li>
        </ol>
      </nav>
    </div>
  </div>

  <!-- Blog Content Section -->
  <section class="blog-detail section py-5">
    <div class="container">
      
      <!-- Featured Image -->
      <div class="post-img mb-4">
        {% if post.extra_images.exists %}
          <img src="{{ post.extra_images.first.image.url }}" class="img-fluid w-100" alt="{{ post.title }}">
        {% elif post.image %}
          <img src="{{ post.image.url }}" class="img-fluid w-100" alt="{{ post.title }}">
        {% else %}
          <img src="{% static 'assets/img/default.jpg' %}" class="img-fluid w-100" alt="No image available">
        {% endif %}
      </div>

      <!-- Post Meta -->
      <div class="meta small text-muted mb-3">
        <span><i class="bi bi-calendar"></i> {{ post.created_at|date:"M d, Y" }}</span> &nbsp;|&nbsp;
        <span><i class="bi bi-person"></i> {{ post.author_name|default:"Unknown Author" }}</span>
      </div>

      <!-- Post Body -->
      <div class="post-content" style="text-align:justify;">
        {{ post.content|safe }}
      </div>

      <!-- Extra Images Gallery -->
      {% if post.extra_images.exists %}
        <div class="extra-images mt-4 row g-3">
          {% for img in post.extra_images.all %}
            <div class="col-md-4">
              <img src="{{ img.image.url }}" class="img-fluid rounded" alt="Extra image">
            </div>
          {% endfor %}
        </div>
      {% endif %}

    </div>
  </section>

</main>
{% endblock body %}
